<!DOCTYPE html>

<html manifest="/site.manifest">

<!--
<html>
-->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Journal Items</title>
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <link href="~/Scripts/offline/themes/offline-theme-chrome.css" rel="stylesheet" />
    <link href="~/Scripts/offline/themes/offline-language-english.css" rel="stylesheet" />
    <link href="~/Content/site.css" rel="stylesheet" />
    <script src="~/Scripts/modernizr-2.8.3.js"></script>
    @RenderSection("head", required: false)
</head>
<body data-ng-app="app">

<div class="navbar navbar-fixed-top">
    <div class="pull-right" data-ng-hide="isLoggedIn"
         data-ng-controller="loginController">
        <nav>
            <ul id="menu">
                <li>@Html.ActionLink("Login", "Login", "Account")</li>
            </ul>
        </nav>
    </div>
<!--
<div class="pull-right" data-ng-show="isLoggedIn"
     data-ng-controller="loginController">
    <nav>
        <ul id="menu">
            <li><button ng-click="logout()">Logout</button></li>
        </ul>
    </nav>
</div>
    -->


    <div class="pull-right" 
         data-ng-controller="syncController">
        <nav>
            <ul class="nav navbar-nav">
                <li><button class="btnupload" data-ng-show="isLoggedIn" ng-click="sync()"></button></li>
                <li><button class="btndownload" ng-disabled="!showList" ng-click="download()"></button></li>
            </ul>
        </nav>
    </div> <!--lass="pull-right" -->
    <div class="pull-right" data-ng-show="isLoggedIn"
         data-ng-controller="itemsController">
        <input type="text" id="tfq" class="tftextinput2" name="q" size="21" maxlength="120" value="Search" ng-model="filtertext"><input type="submit" value=">" ng-click="search()"  class="tfbutton2">
    <!--
        <nav>

            <ul class="nav navbar-nav">
                <li><input type="text" class="form-control-search" placeholder="Search" ng-model="filtertext"></li>
                <li><button class="btn" ng-disabled="!showList" ng-click="search()">Filter</button></li>
                <li><button class="btn" ng-disabled="!showList" ng-click="download()">Download</button></li>
            </ul>
        </nav>-->
    </div> <!--class="pull-right"-->
    <div class="container" data-ng-show="isLoggedIn"
         data-ng-controller="itemsController">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/"><img src="/images/logo-sm.png" class="logo" alt="Journal Items" title="Journal Items" /></a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/items">Items List</a></li>
                <li><a href="/items/new">New Item</a></li>
                <li><a href="/topics">Topics List</a></li>
            </ul>
        </div>
    </div> <!--class="container"-->
</div> <!--class="navbar navbar-fixed-top"-->
<div class="container body-content">
    @RenderBody()
    <hr/>
    <footer>
        <p>&copy; @DateTime.Now.Year - Journal Items</p>
    </footer>
</div>

    <!--
<div id="sync-container" class="alert-info"
     data-ng-show="hasLocalDataToSync"
     data-ng-controller="syncController">
    You have local data to sync to the server.
    <button data-ng-click="sync()" class="btn btn-sm">Sync</button>
</div>
        -->
<script src="~/Scripts/jquery-2.1.4.js" type="text/javascript"></script>

<script src="~/Scripts/bootstrap.js" type="text/javascript"></script>
<script src="~/Scripts/respond.js" type="text/javascript"></script>

<script src="~/Scripts/angular.js" type="text/javascript"></script>
<script src="~/Scripts/angular-resource.js" type="text/javascript"></script>
<script src="~/Scripts/angular-mocks.js" type="text/javascript"></script>
<script src="~/Scripts/angular-cookies.js" type="text/javascript"></script>
<script src="~/Scripts/lodash.underscore.min.js" type="text/javascript"></script>

<script src="~/Scripts/uuid.js" type="text/javascript"></script>
<script src="~/Scripts/math.uuid.js" type="text/javascript"></script>
<script src="~/Scripts/offline/offline.js" type="text/javascript"></script>

<!--
<script src="~/Scripts/offlinejs-simulate-ui/offline-simulate-ui.min.js" type="text/javascript"></script>
-->
<script src="~/Scripts/app/app.js" type="text/javascript"></script>

<script src="~/Scripts/app/services/localDBService.js" type="text/javascript"></script>
<script src="~/Scripts/app/services/persistenceService.js" type="text/javascript"></script>
<script src="~/Scripts/app/services/persistenceStrategies.js" type="text/javascript"></script>
<script src="~/Scripts/app/services/syncService.js" type="text/javascript"></script>
<script src="~/Scripts/app/services/base64Service.js" type="text/javascript"></script>
<script src="~/Scripts/app/services/authenticationService.js" type="text/javascript"></script>
<script src="~/Scripts/app/services/usersLocalService.js" type="text/javascript"></script>
<script src="~/Scripts/app/services/topicsService.js" type="text/javascript"></script>
<script src="~/Scripts/app/controllers/syncController.js" type="text/javascript"></script>
<script src="~/Scripts/app/controllers/loginController.js" type="text/javascript"></script>
<script src="~/Scripts/app/controllers/itemsController.js" type="text/javascript"></script>
<script type="text/javascript">
    //var run = function() {
    //    if (Offline.state === 'up')
    //        Offline.check();
    //}
    //setInterval(run, 5000);
</script>


@RenderSection("scripts", required: false)
</body>
</html>